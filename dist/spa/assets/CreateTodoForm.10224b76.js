import{m as ze,r as k,a as l,aq as De,ar as U,o as Ee,j as Qe,as as je,g as ie,a6 as Ue,h as d,x as Ke,at as Oe,c as Ge,au as Ye,w as We,L as Xe,av as le,C as A,a8 as te,G as He,aw as Je,F as q,ax as Ze,ak as ea,D as re,E as ne,ab as oe,aj as aa,Q as se}from"./index.883f38ec.js";import{Q as la}from"./QForm.063f7fde.js";import{Q as ta}from"./QPage.c8157462.js";import{T as ra,b as T}from"./format.79eb2981.js";const ue="q-slider__marker-labels",na=t=>({value:t}),oa=({marker:t})=>d("div",{key:t.value,style:t.style,class:t.classes},t.label),ce=[34,37,40,33,39,38],sa={...Qe,...je,min:{type:Number,default:0},max:{type:Number,default:100},innerMin:Number,innerMax:Number,step:{type:Number,default:1,validator:t=>t>=0},snap:Boolean,vertical:Boolean,reverse:Boolean,hideSelection:Boolean,color:String,markerLabelsClass:String,label:Boolean,labelColor:String,labelTextColor:String,labelAlways:Boolean,switchLabelSide:Boolean,markers:[Boolean,Number],markerLabels:[Boolean,Array,Object,Function],switchMarkerLabelsSide:Boolean,trackImg:String,trackColor:String,innerTrackImg:String,innerTrackColor:String,selectionColor:String,selectionImg:String,thumbSize:{type:String,default:"20px"},trackSize:{type:String,default:"4px"},disable:Boolean,readonly:Boolean,dense:Boolean,tabindex:[String,Number],thumbColor:String,thumbPath:{type:String,default:"M 4, 10 a 6,6 0 1,0 12,0 a 6,6 0 1,0 -12,0"}},ua=["pan","update:modelValue","change"];function ia({updateValue:t,updatePosition:m,getDragging:b,formAttrs:n}){const{props:e,emit:g,slots:y,proxy:{$q:u}}=ie(),c=ze(e,u),f=Oe(n),C=k(!1),w=k(!1),h=k(!1),_=k(!1),p=l(()=>e.vertical===!0?"--v":"--h"),I=l(()=>"-"+(e.switchLabelSide===!0?"switched":"standard")),S=l(()=>e.vertical===!0?e.reverse===!0:e.reverse!==(u.lang.rtl===!0)),x=l(()=>isNaN(e.innerMin)===!0||e.innerMin<e.min?e.min:e.innerMin),$=l(()=>isNaN(e.innerMax)===!0||e.innerMax>e.max?e.max:e.innerMax),i=l(()=>e.disable!==!0&&e.readonly!==!0&&x.value<$.value),M=l(()=>{if(e.step===0)return r=>r;const a=(String(e.step).trim().split(".")[1]||"").length;return r=>parseFloat(r.toFixed(a))}),L=l(()=>e.step===0?1:e.step),ve=l(()=>i.value===!0?e.tabindex||0:-1),B=l(()=>e.max-e.min),K=l(()=>$.value-x.value),R=l(()=>z(x.value)),P=l(()=>z($.value)),F=l(()=>e.vertical===!0?S.value===!0?"bottom":"top":S.value===!0?"right":"left"),O=l(()=>e.vertical===!0?"height":"width"),de=l(()=>e.vertical===!0?"width":"height"),G=l(()=>e.vertical===!0?"vertical":"horizontal"),me=l(()=>{const a={role:"slider","aria-valuemin":x.value,"aria-valuemax":$.value,"aria-orientation":G.value,"data-step":e.step};return e.disable===!0?a["aria-disabled"]="true":e.readonly===!0&&(a["aria-readonly"]="true"),a}),be=l(()=>`q-slider q-slider${p.value} q-slider--${C.value===!0?"":"in"}active inline no-wrap `+(e.vertical===!0?"row":"column")+(e.disable===!0?" disabled":" q-slider--enabled"+(i.value===!0?" q-slider--editable":""))+(h.value==="both"?" q-slider--focus":"")+(e.label||e.labelAlways===!0?" q-slider--label":"")+(e.labelAlways===!0?" q-slider--label-always":"")+(c.value===!0?" q-slider--dark":"")+(e.dense===!0?" q-slider--dense q-slider--dense"+p.value:""));function N(a){const r="q-slider__"+a;return`${r} ${r}${p.value} ${r}${p.value}${I.value}`}function Y(a){const r="q-slider__"+a;return`${r} ${r}${p.value}`}const fe=l(()=>{const a=e.selectionColor||e.color;return"q-slider__selection absolute"+(a!==void 0?` text-${a}`:"")}),pe=l(()=>Y("markers")+" absolute overflow-hidden"),ke=l(()=>Y("track-container")),ge=l(()=>N("pin")),Ce=l(()=>N("label")),he=l(()=>N("text-container")),xe=l(()=>N("marker-labels-container")+(e.markerLabelsClass!==void 0?` ${e.markerLabelsClass}`:"")),ye=l(()=>"q-slider__track relative-position no-outline"+(e.trackColor!==void 0?` bg-${e.trackColor}`:"")),Se=l(()=>{const a={[de.value]:e.trackSize};return e.trackImg!==void 0&&(a.backgroundImage=`url(${e.trackImg}) !important`),a}),$e=l(()=>"q-slider__inner absolute"+(e.innerTrackColor!==void 0?` bg-${e.innerTrackColor}`:"")),W=l(()=>{const a=P.value-R.value,r={[F.value]:`${100*R.value}%`,[O.value]:a===0?"2px":`${100*a}%`};return e.innerTrackImg!==void 0&&(r.backgroundImage=`url(${e.innerTrackImg}) !important`),r});function Me(a){const{min:r,max:o,step:s}=e;let v=r+a*(o-r);if(s>0){const V=(v-x.value)%s;v+=(Math.abs(V)>=s/2?(V<0?-1:1)*s:0)-V}return v=M.value(v),T(v,x.value,$.value)}function z(a){return B.value===0?0:(a-e.min)/B.value}function Ve(a,r){const o=Ue(a),s=e.vertical===!0?T((o.top-r.top)/r.height,0,1):T((o.left-r.left)/r.width,0,1);return T(S.value===!0?1-s:s,R.value,P.value)}const X=l(()=>De(e.markers)===!0?e.markers:L.value),H=l(()=>{const a=[],r=X.value,o=e.max;let s=e.min;do a.push(s),s+=r;while(s<o);return a.push(o),a}),J=l(()=>{const a=` ${ue}${p.value}-`;return ue+`${a}${e.switchMarkerLabelsSide===!0?"switched":"standard"}${a}${S.value===!0?"rtl":"ltr"}`}),D=l(()=>e.markerLabels===!1?null:qe(e.markerLabels).map((a,r)=>({index:r,value:a.value,label:a.label||a.value,classes:J.value+(a.classes!==void 0?" "+a.classes:""),style:{...ee(a.value),...a.style||{}}}))),Z=l(()=>({markerList:D.value,markerMap:we.value,classes:J.value,getStyle:ee})),Le=l(()=>{const a=K.value===0?"2px":100*X.value/K.value;return{...W.value,backgroundSize:e.vertical===!0?`2px ${a}%`:`${a}% 2px`}});function qe(a){if(a===!1)return null;if(a===!0)return H.value.map(na);if(typeof a=="function")return H.value.map(o=>{const s=a(o);return U(s)===!0?{...s,value:o}:{value:o,label:s}});const r=({value:o})=>o>=e.min&&o<=e.max;return Array.isArray(a)===!0?a.map(o=>U(o)===!0?o:{value:o}).filter(r):Object.keys(a).map(o=>{const s=a[o],v=Number(o);return U(s)===!0?{...s,value:v}:{value:v,label:s}}).filter(r)}function ee(a){return{[F.value]:`${100*(a-e.min)/B.value}%`}}const we=l(()=>{if(e.markerLabels===!1)return null;const a={};return D.value.forEach(r=>{a[r.value]=r}),a});function _e(){if(y["marker-label-group"]!==void 0)return y["marker-label-group"](Z.value);const a=y["marker-label"]||oa;return D.value.map(r=>a({marker:r,...Z.value}))}const Te=l(()=>[[ra,Be,void 0,{[G.value]:!0,prevent:!0,stop:!0,mouse:!0,mouseAllDir:!0}]]);function Be(a){a.isFinal===!0?(_.value!==void 0&&(m(a.evt),a.touch===!0&&t(!0),_.value=void 0,g("pan","end")),C.value=!1,h.value=!1):a.isFirst===!0?(_.value=b(a.evt),m(a.evt),t(),C.value=!0,g("pan","start")):(m(a.evt),t())}function ae(){h.value=!1}function Re(a){m(a,b(a)),t(),w.value=!0,C.value=!0,document.addEventListener("mouseup",E,!0)}function E(){w.value=!1,C.value=!1,t(!0),ae(),document.removeEventListener("mouseup",E,!0)}function Fe(a){m(a,b(a)),t(!0)}function Ne(a){ce.includes(a.keyCode)&&t(!0)}function Ae(a){if(e.vertical===!0)return null;const r=u.lang.rtl!==e.reverse?1-a:a;return{transform:`translateX(calc(${2*r-1} * ${e.thumbSize} / 2 + ${50-100*r}%))`}}function Ie(a){const r=l(()=>w.value===!1&&(h.value===a.focusValue||h.value==="both")?" q-slider--focus":""),o=l(()=>`q-slider__thumb q-slider__thumb${p.value} q-slider__thumb${p.value}-${S.value===!0?"rtl":"ltr"} absolute non-selectable`+r.value+(a.thumbColor.value!==void 0?` text-${a.thumbColor.value}`:"")),s=l(()=>({width:e.thumbSize,height:e.thumbSize,[F.value]:`${100*a.ratio.value}%`,zIndex:h.value===a.focusValue?2:void 0})),v=l(()=>a.labelColor.value!==void 0?` text-${a.labelColor.value}`:""),V=l(()=>Ae(a.ratio.value)),Q=l(()=>"q-slider__text"+(a.labelTextColor.value!==void 0?` text-${a.labelTextColor.value}`:""));return()=>{const j=[d("svg",{class:"q-slider__thumb-shape absolute-full",viewBox:"0 0 20 20","aria-hidden":"true"},[d("path",{d:e.thumbPath})]),d("div",{class:"q-slider__focus-ring fit"})];return(e.label===!0||e.labelAlways===!0)&&(j.push(d("div",{class:ge.value+" absolute fit no-pointer-events"+v.value},[d("div",{class:Ce.value,style:{minWidth:e.thumbSize}},[d("div",{class:he.value,style:V.value},[d("span",{class:Q.value},a.label.value)])])])),e.name!==void 0&&e.disable!==!0&&f(j,"push")),d("div",{class:o.value,style:s.value,...a.getNodeData()},j)}}function Pe(a,r,o,s){const v=[];e.innerTrackColor!=="transparent"&&v.push(d("div",{key:"inner",class:$e.value,style:W.value})),e.selectionColor!=="transparent"&&v.push(d("div",{key:"selection",class:fe.value,style:a.value})),e.markers!==!1&&v.push(d("div",{key:"marker",class:pe.value,style:Le.value})),s(v);const V=[Ke("div",{key:"trackC",class:ke.value,tabindex:r.value,...o.value},[d("div",{class:ye.value,style:Se.value},v)],"slide",i.value,()=>Te.value)];if(e.markerLabels!==!1){const Q=e.switchMarkerLabelsSide===!0?"unshift":"push";V[Q](d("div",{key:"markerL",class:xe.value},_e()))}return V}return Ee(()=>{document.removeEventListener("mouseup",E,!0)}),{state:{active:C,focus:h,preventFocus:w,dragging:_,editable:i,classes:be,tabindex:ve,attributes:me,roundValueFn:M,keyStep:L,trackLen:B,innerMin:x,innerMinRatio:R,innerMax:$,innerMaxRatio:P,positionProp:F,sizeProp:O,isReversed:S},methods:{onActivate:Re,onMobileClick:Fe,onBlur:ae,onKeyup:Ne,getContent:Pe,getThumbRenderFn:Ie,convertRatioToModel:Me,convertModelToRatio:z,getDraggingRatio:Ve}}}const ca=()=>({});var va=Ge({name:"QSlider",props:{...sa,modelValue:{required:!0,default:null,validator:t=>typeof t=="number"||t===null},labelValue:[String,Number]},emits:ua,setup(t,{emit:m}){const{proxy:{$q:b}}=ie(),{state:n,methods:e}=ia({updateValue:p,updatePosition:S,getDragging:I,formAttrs:Ye(t)}),g=k(null),y=k(0),u=k(0);function c(){u.value=t.modelValue===null?n.innerMin.value:T(t.modelValue,n.innerMin.value,n.innerMax.value)}We(()=>`${t.modelValue}|${n.innerMin.value}|${n.innerMax.value}`,c),c();const f=l(()=>e.convertModelToRatio(u.value)),C=l(()=>n.active.value===!0?y.value:f.value),w=l(()=>{const i={[n.positionProp.value]:`${100*n.innerMinRatio.value}%`,[n.sizeProp.value]:`${100*(C.value-n.innerMinRatio.value)}%`};return t.selectionImg!==void 0&&(i.backgroundImage=`url(${t.selectionImg}) !important`),i}),h=e.getThumbRenderFn({focusValue:!0,getNodeData:ca,ratio:C,label:l(()=>t.labelValue!==void 0?t.labelValue:u.value),thumbColor:l(()=>t.thumbColor||t.color),labelColor:l(()=>t.labelColor),labelTextColor:l(()=>t.labelTextColor)}),_=l(()=>n.editable.value!==!0?{}:b.platform.is.mobile===!0?{onClick:e.onMobileClick}:{onMousedown:e.onActivate,onFocus:x,onBlur:e.onBlur,onKeydown:$,onKeyup:e.onKeyup});function p(i){u.value!==t.modelValue&&m("update:modelValue",u.value),i===!0&&m("change",u.value)}function I(){return g.value.getBoundingClientRect()}function S(i,M=n.dragging.value){const L=e.getDraggingRatio(i,M);u.value=e.convertRatioToModel(L),y.value=t.snap!==!0||t.step===0?L:e.convertModelToRatio(u.value)}function x(){n.focus.value=!0}function $(i){if(!ce.includes(i.keyCode))return;Xe(i);const M=([34,33].includes(i.keyCode)?10:1)*n.keyStep.value,L=([34,37,40].includes(i.keyCode)?-1:1)*(n.isReversed.value===!0?-1:1)*(t.vertical===!0?-1:1)*M;u.value=T(n.roundValueFn.value(u.value+L),n.innerMin.value,n.innerMax.value),p()}return()=>{const i=e.getContent(w,n.tabindex,_,M=>{M.push(h())});return d("div",{ref:g,class:n.classes.value+(t.modelValue===null?" q-slider--no-value":""),...n.attributes.value,"aria-valuenow":t.modelValue},i)}}});const da={key:0,class:"text-red"},ma={__name:"Over18Slider",props:{modelValue:{type:Number,required:!0}},setup(t){const m=t,b=k(!1);le({validate:n});function n(){return b.value=m.modelValue>18,console.log(m.modelValue),console.log("validate(): ",b.value),b.value}return le({validate:n}),(e,g)=>(A(),te("div",null,[He(Je(t.modelValue)+" ",1),q(va,Ze(e.$attrs,{"model-value":t.modelValue}),null,16,["model-value"]),b.value?ea("",!0):(A(),te("span",da," Must be over 18 "))]))}},ga={__name:"CreateTodoForm",setup(t){const m=k(0),b=k(),n=k({title:"",body:"",acceptEULA:!1,age:0});function e(u){console.log(u),b.value.resetValidation(),m.value++}const g=u=>u&&u.length>0||"Please provide some text";function y(u){console.log("on submit",u),b.value.validate().then(c=>{console.log(c?"gick bra med valideringen":"Ajd\xE5... det sket sig i valideringen"),console.log(c)})}return(u,c)=>(A(),re(ta,{padding:"",class:"flex flex-center"},{default:ne(()=>[(A(),re(la,{key:m.value,class:"column q-pa-md shadow-2",actions:"http://localhost:9000",method:"GET",ref_key:"formComponent",ref:b},{default:ne(()=>[q(oe,{modelValue:n.value.title,"onUpdate:modelValue":c[0]||(c[0]=f=>n.value.title=f),type:"text",name:"Title",placeholder:"Your title",rules:[g]},null,8,["modelValue","rules"]),q(oe,{modelValue:n.value.body,"onUpdate:modelValue":c[1]||(c[1]=f=>n.value.body=f),type:"textarea",name:"body",placeholder:"Your post ...",rules:[g]},null,8,["modelValue","rules"]),q(aa,{modelValue:n.value.acceptEULA,"onUpdate:modelValue":c[2]||(c[2]=f=>n.value.acceptEULA=f),label:"I accept the license and terms"},null,8,["modelValue"]),q(ma,{modelValue:n.value.age,"onUpdate:modelValue":c[3]||(c[3]=f=>n.value.age=f)},null,8,["modelValue"]),q(se,{label:"Submit",color:"indigo",onClick:y}),q(se,{label:"Reset validation",flat:"",onClick:e})]),_:1}))]),_:1}))}};export{ga as default};
